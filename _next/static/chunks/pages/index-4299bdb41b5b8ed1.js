(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(768)}])},3085:function(e,t,n){"use strict";var r=n(8520),o=n.n(r),i=n(9669),c=n.n(i);function a(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)}))}}t.Z=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.path=t,this.getData=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat("http://13.229.248.16:3000","/").concat(n.path));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})).bind(this)).bind(this),this.postData=u(o().mark((function e(t){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("user")),i={},r&&(i={token:r.token}),e.next=5,c().post("".concat("http://13.229.248.16:3000","/").concat(n.path),t,{headers:i});case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})).bind(this)).bind(this)}},4189:function(e,t,n){"use strict";var r=n(3085);function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,o(t).call(this,"video"))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),t}(r.Z);t.Z=new u},7960:function(e,t,n){"use strict";n.d(t,{X:function(){return x}});var r=n(5893),o=n(7294),i=n(8520),c=n.n(i),a=n(3085);function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},d=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).call(this,"user"))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),t}(a.Z)),p=n(1163);function h(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}var b=function(){var e=(0,p.useRouter)(),t=(0,o.useState)(""),n=t[0],i=t[1],a=(0,o.useState)(""),u=a[0],s=a[1],l=(0,o.useState)(!1),f=l[0],b=l[1],v=(0,o.useState)(""),m=v[0],y=v[1];(0,o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&(b(!0),y(e.username))}),[]);var w,j=(w=c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.postData({username:n,password:u});case 3:t=e.sent,localStorage.setItem("user",JSON.stringify({username:n,token:t.token})),b(!0),y(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Password is incorrect.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=w.apply(e,t);function i(e){h(o,n,r,i,c,"next",e)}function c(e){h(o,n,r,i,c,"throw",e)}i(void 0)}))});return(0,r.jsx)(r.Fragment,{children:f?(0,r.jsxs)("div",{id:"welcome",children:[(0,r.jsxs)("span",{children:["Welcome ",(0,r.jsx)("strong",{children:m})]}),(0,r.jsx)("button",{id:"sharingBtn",onClick:function(){return e.push("/sharing")},className:"bg-black p-2 text-white mx-5",children:"Share a movie"}),(0,r.jsx)("button",{id:"logoutBtn",onClick:function(){localStorage.removeItem("user"),b(!1)},className:"bg-black p-2 text-white",children:"Logout"})]}):(0,r.jsxs)("div",{id:"login-form",children:[(0,r.jsx)("input",{className:"p-2 border border-black mr-4",type:"text",placeholder:"username",id:"username",value:n,onChange:function(e){return i(e.target.value)}}),(0,r.jsx)("input",{className:"p-2 border border-black mr-4",type:"password",placeholder:"Password",id:"password",value:u,onChange:function(e){return s(e.target.value)}}),(0,r.jsx)("button",{id:"loginBtn",onClick:j,className:"bg-black p-2 text-white",children:"Login/Register"})]})})},v=n(1664),m=function(){return(0,r.jsx)("header",{className:"p-5",children:(0,r.jsxs)("div",{className:"grid grid-cols-2",children:[(0,r.jsx)("div",{className:"branding",children:(0,r.jsx)("h2",{className:"font-bold uppercase text-2xl",children:(0,r.jsx)(v.default,{href:"/",children:"Funny Movie"})})}),(0,r.jsx)("div",{className:"justify-self-end",children:(0,r.jsx)(b,{})})]})})};function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var j=function(e){var t=e.children;return(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)(m,{}),(0,r.jsx)("main",{role:"main",children:t})]})},x=function(e){return function(t){return(0,r.jsx)(j,{children:(0,r.jsx)(e,w({},t))})}}},768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(8520),o=n.n(r),i=n(5893),c=n(7294),a=n(4189),u=n(7960),s=function(e){var t=e.title,n=e.description,r=e.user_username,o=e.videoId;return(0,i.jsxs)("div",{className:"detail grid md:grid-cols-2 gap-10 py-6",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"relative h-0 overflow-hidden pt-7",style:{paddingBottom:"56.25%"},children:(0,i.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(o),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-red font-bold",children:t}),(0,i.jsxs)("h4",{children:["Shared by:"," ","admin@remitano.com"!==r?r:"Shared by: Eddy Nguyen"]}),(0,i.jsx)("p",{children:"Description: "}),n]})]})};function l(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,u.X)((function(){var e=(0,c.useState)([]),t=e[0],n=e[1];return(0,c.useEffect)((function(){var e;(e=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getData();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){l(i,r,o,c,a,"next",e)}function a(e){l(i,r,o,c,a,"throw",e)}c(void 0)}))})()}),[]),(0,i.jsx)("div",{className:"videos",children:t.map((function(e,t){return(0,c.createElement)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},e,{key:t}))}))})}))}},function(e){e.O(0,[630,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);